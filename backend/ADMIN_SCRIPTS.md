# ๐ก๏ธ ะกะบัะธะฟัั ัะฟัะฐะฒะปะตะฝะธั ะฐะดะผะธะฝะธัััะฐัะพัะฐะผะธ

ะะฐะฑะพั ััะธะปะธั ะดะปั ัะฟัะฐะฒะปะตะฝะธั ัะพะปัะผะธ ะฐะดะผะธะฝะธัััะฐัะพัะพะฒ ะฒ ัะธััะตะผะต NeSXt.

## ๐ ะะพัััะฟะฝัะต ัะบัะธะฟัั

### 1. `make-admin.js` - ะะฝัะตัะฐะบัะธะฒะฝัะน ัะบัะธะฟั ะฝะฐะทะฝะฐัะตะฝะธั ะฐะดะผะธะฝะธัััะฐัะพัะฐ

**ะะฟะธัะฐะฝะธะต**: ะะฝัะตัะฐะบัะธะฒะฝัะน ัะบัะธะฟั ั ะฟะพัะฐะณะพะฒัะผ ะธะฝัะตััะตะนัะพะผ ะดะปั ะฝะฐะทะฝะฐัะตะฝะธั ัะพะปะธ ะฐะดะผะธะฝะธัััะฐัะพัะฐ.

**ะัะพะฑะตะฝะฝะพััะธ**:
- ๐ฅ ะะพะบะฐะทัะฒะฐะตั ัะฟะธัะพะบ ะฒัะตั ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- ๐ ะะพะธัะบ ะฟะพ email ะธะปะธ ID
- โ ะะพะดัะฒะตัะถะดะตะฝะธะต ะฟะตัะตะด ะฝะฐะทะฝะฐัะตะฝะธะตะผ ัะพะปะธ
- ๐ ะัะพะฑัะฐะถะตะฝะธะต ัะตะบััะธั ัะพะปะตะน ะฟะพะปัะทะพะฒะฐัะตะปั

**ะะฐะฟััะบ**:
```bash
# ะงะตัะตะท npm script
npm run admin:make

# ะะฐะฟััะผัั
node scripts/make-admin.js
# ะธะปะธ
./scripts/make-admin.js
```

**ะัะธะผะตั ะธัะฟะพะปัะทะพะฒะฐะฝะธั**:
```
๐ก๏ธ  ะกะบัะธะฟั ะฝะฐะทะฝะฐัะตะฝะธั ะฐะดะผะธะฝะธัััะฐัะพัะฐ NeSXt
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ฅ ะะพัะปะตะดะฝะธะต 10 ะฟะพะปัะทะพะฒะฐัะตะปะตะน:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
1. user@example.com
   ID: cmbflbbz900008k5u7lmlbl1d
   ะะผั: John Doe
   ะะพะปะธ: USER
   ะัะพะฒะฐะนะดะตัั: google
   ะขะพะบะตะฝะพะฒ: 5
   ะกะพะทะดะฐะฝ: 6/3/2025, 12:16:49 AM

๐ ะะฒะตะดะธัะต email ะธะปะธ ID ะฟะพะปัะทะพะฒะฐัะตะปั ะดะปั ะฝะฐะทะฝะฐัะตะฝะธั ะฐะดะผะธะฝะพะผ: user@example.com

โ ะะพะปัะทะพะฒะฐัะตะปั ะฝะฐะนะดะตะฝ:
๐ง Email: user@example.com
๐ ID: cmbflbbz900008k5u7lmlbl1d
๐ค ะะผั: John Doe
๐ ะกะพะทะดะฐะฝ: 6/3/2025, 12:16:49 AM
๐ญ ะขะตะบััะธะต ัะพะปะธ: USER

โ ะะฐะทะฝะฐัะธัั ัะพะปั ADMIN ััะพะผั ะฟะพะปัะทะพะฒะฐัะตะปั? (y/N): y

โก ะะฐะทะฝะฐัะตะฝะธะต ัะพะปะธ ADMIN...
๐ ะะพะปั ADMIN ััะฟะตัะฝะพ ะฝะฐะทะฝะฐัะตะฝะฐ!
```

### 2. `quick-admin.js` - ะััััะพะต ะฝะฐะทะฝะฐัะตะฝะธะต ะฐะดะผะธะฝะธัััะฐัะพัะฐ

**ะะฟะธัะฐะฝะธะต**: ะัะพััะพะน ะฝะตะธะฝัะตัะฐะบัะธะฒะฝัะน ัะบัะธะฟั ะดะปั ะฑััััะพะณะพ ะฝะฐะทะฝะฐัะตะฝะธั ัะพะปะธ ะฐะดะผะธะฝะธัััะฐัะพัะฐ ะฟะพ email.

**ะัะพะฑะตะฝะฝะพััะธ**:
- ๐ ะััััะพะต ะฝะฐะทะฝะฐัะตะฝะธะต ะพะดะฝะพะน ะบะพะผะฐะฝะดะพะน
- ๐ ะัะพัะผะพัั ัะฟะธัะบะฐ ะฐะดะผะธะฝะธัััะฐัะพัะพะฒ
- ๐ ะะฐัะธัะฐ ะพั ะดัะฑะปะธัะพะฒะฐะฝะธั ัะพะปะตะน
- ๐ ะะฒัะพะผะฐัะธัะตัะบะธะน ะพััะตั ะฟะพัะปะต ะฝะฐะทะฝะฐัะตะฝะธั

**ะกะธะฝัะฐะบัะธั**:
```bash
# ะะฐะทะฝะฐัะธัั ะฐะดะผะธะฝะธัััะฐัะพัะฐ
npm run admin:quick <email>
node scripts/quick-admin.js <email>

# ะะพะบะฐะทะฐัั ัะฟะธัะพะบ ะฐะดะผะธะฝะธัััะฐัะพัะพะฒ  
npm run admin:list
node scripts/quick-admin.js --list

# ะะพะบะฐะทะฐัั ัะฟัะฐะฒะบั
node scripts/quick-admin.js
```

**ะัะธะผะตัั**:
```bash
# ะะฐะทะฝะฐัะธัั ัะพะปั ADMIN ะฟะพะปัะทะพะฒะฐัะตะปั
npm run admin:quick user@example.com

# ะะพะบะฐะทะฐัั ะฒัะตั ะฐะดะผะธะฝะธัััะฐัะพัะพะฒ
npm run admin:list

# ะััะผะพะน ะฒัะทะพะฒ ัะบัะธะฟัะฐ
node scripts/quick-admin.js user@example.com
./scripts/quick-admin.js --list
```

**ะัะฒะพะด ะฟัะธ ะฝะฐะทะฝะฐัะตะฝะธะธ**:
```
๐ก๏ธ  ะััััะพะต ะฝะฐะทะฝะฐัะตะฝะธะต ะฐะดะผะธะฝะธัััะฐัะพัะฐ NeSXt
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ ะะฐะทะฝะฐัะตะฝะธะต ัะพะปะธ ADMIN ะดะปั: user@example.com
๐ ะะพะปั ADMIN ััะฟะตัะฝะพ ะฝะฐะทะฝะฐัะตะฝะฐ ะฟะพะปัะทะพะฒะฐัะตะปั user@example.com
๐ ID ัะพะปะธ: cmbfndyob0001j31od27la4aq
โฐ ะะฐะทะฝะฐัะตะฝะฐ: 6/3/2025, 1:14:51 AM

๐ ะขะตะบััะธะต ะฐะดะผะธะฝะธัััะฐัะพัั:
๐จโ๐ป ะะดะผะธะฝะธัััะฐัะพัั ะฒ ัะธััะตะผะต (1):
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
1. user@example.com
   ะะผั: John Doe
   ะะฐะทะฝะฐัะตะฝ ะฐะดะผะธะฝะพะผ: 6/3/2025, 1:14:51 AM
```

## ๐ ะัััััะน ััะฐัั

### ะะฐะทะฝะฐัะธัั ะฟะตัะฒะพะณะพ ะฐะดะผะธะฝะธัััะฐัะพัะฐ

1. **ะฃะฑะตะดะธัะตัั, ััะพ ั ะฒะฐั ะตััั ะฟะพะปัะทะพะฒะฐัะตะปั ะฒ ัะธััะตะผะต**:
   - ะะพะนะดะธัะต ะฒ ะฟัะธะปะพะถะตะฝะธะต ัะตัะตะท OAuth (Google)
   - ะะปะธ ะฟัะพะฒะตัััะต ัะฟะธัะพะบ ะฟะพะปัะทะพะฒะฐัะตะปะตะน: `npm run admin:make`

2. **ะะฐะทะฝะฐัััะต ัะพะปั ะฐะดะผะธะฝะธัััะฐัะพัะฐ**:
   ```bash
   npm run admin:quick your-email@example.com
   ```

3. **ะัะพะฒะตัััะต ัะตะทัะปััะฐั**:
   ```bash
   npm run admin:list
   ```

### ะกะพะทะดะฐะฝะธะต ะดะพะฟะพะปะฝะธัะตะปัะฝัั ะฐะดะผะธะฝะธัััะฐัะพัะพะฒ

ะะพัะปะต ัะพะณะพ, ะบะฐะบ ั ะฒะฐั ะตััั ะฟะตัะฒัะน ะฐะดะผะธะฝะธัััะฐัะพั, ะฒั ะผะพะถะตัะต:

1. **ะัะฟะพะปัะทะพะฒะฐัั TRPC API** (ัะตัะตะท frontend ะธะปะธ Postman):
   ```typescript
   // ะ ะฟัะธะปะพะถะตะฝะธะธ
   await trpc.auth.assignUserRole.mutate({
     userId: 'target-user-id',
     role: 'ADMIN'
   });
   ```

2. **ะัะพะดะพะปะถะฐัั ะธัะฟะพะปัะทะพะฒะฐัั ัะบัะธะฟัั** ะดะปั ะฑััััะพะณะพ ัะฟัะฐะฒะปะตะฝะธั:
   ```bash
   npm run admin:quick another-user@example.com
   ```

## ๐ก๏ธ ะะตะทะพะฟะฐัะฝะพััั

### ะะฐะถะฝัะต ะผะพะผะตะฝัั:

1. **ะกะบัะธะฟัั ะธะผะตัั ะฟััะผะพะน ะดะพัััะฟ ะบ ะะ** - ะธัะฟะพะปัะทัะนัะต ัะพะปัะบะพ ะฒ development/staging
2. **ะ production** ัะตะบะพะผะตะฝะดัะตััั ะธัะฟะพะปัะทะพะฒะฐัั TRPC API ั ะฟัะพะฒะตัะบะพะน ะฟัะฐะฒ ะดะพัััะฟะฐ
3. **ะะตัะฒัะน ะฐะดะผะธะฝะธัััะฐัะพั** ะดะพะปะถะตะฝ ะฝะฐะทะฝะฐัะฐัััั ัะตัะตะท ัะบัะธะฟัั, ั.ะบ. ะฝะตะบะพะผั ะตัะต ะดะฐะฒะฐัั ะฟัะฐะฒะฐ

### ะะตะบะพะผะตะฝะดัะตะผัะน ะฟะพััะดะพะบ ะดะตะนััะฒะธะน:

1. **Development**: ะัะฟะพะปัะทัะนัะต ัะบัะธะฟัั ัะฒะพะฑะพะดะฝะพ
2. **Staging**: ะัะฟะพะปัะทัะนัะต ัะบัะธะฟัั ะดะปั ะฝะฐัะฐะปัะฝะพะน ะฝะฐัััะพะนะบะธ
3. **Production**: 
   - ะะฐะทะฝะฐัััะต ะฟะตัะฒะพะณะพ ะฐะดะผะธะฝะฐ ัะตัะตะท ัะบัะธะฟั
   - ะะฐะปะตะต ะธัะฟะพะปัะทัะนัะต ัะพะปัะบะพ TRPC API
   - ะะณัะฐะฝะธัััะต ะดะพัััะฟ ะบ ัะบัะธะฟัะฐะผ

## ๐ง ะะพะทะผะพะถะฝัะต ะพัะธะฑะบะธ

### ะะพะปัะทะพะฒะฐัะตะปั ะฝะต ะฝะฐะนะดะตะฝ
```
โ ะะพะปัะทะพะฒะฐัะตะปั ั email "test@example.com" ะฝะต ะฝะฐะนะดะตะฝ
```
**ะะตัะตะฝะธะต**: ะฃะฑะตะดะธัะตัั, ััะพ ะฟะพะปัะทะพะฒะฐัะตะปั ะทะฐัะตะณะธัััะธัะพะฒะฐะฝ ะฒ ัะธััะตะผะต

### ะัะธะฑะบะฐ ะดะพัััะฟะฐ ะบ ะะ
```
โ ะัะธัะธัะตัะบะฐั ะพัะธะฑะบะฐ: Can't reach database server
```
**ะะตัะตะฝะธะต**: 
- ะัะพะฒะตัััะต `.env` ัะฐะนะป
- ะฃะฑะตะดะธัะตัั, ััะพ ะะ ะทะฐะฟััะตะฝะฐ
- ะัะฟะพะปะฝะธัะต `npx prisma generate`

### ะะพะปัะทะพะฒะฐัะตะปั ัะถะต ะฐะดะผะธะฝะธัััะฐัะพั
```
โน๏ธ  ะะพะปัะทะพะฒะฐัะตะปั user@example.com ัะถะต ะธะผะตะตั ัะพะปั ADMIN
```
**ะญัะพ ะฝะพัะผะฐะปัะฝะพ** - ัะธััะตะผะฐ ะฟัะตะดะพัะฒัะฐัะฐะตั ะดัะฑะปะธัะพะฒะฐะฝะธะต ัะพะปะตะน

## ๐ ะะพะณะธัะพะฒะฐะฝะธะต

ะัะต ะพะฟะตัะฐัะธะธ ะฝะฐะทะฝะฐัะตะฝะธั ัะพะปะตะน ะปะพะณะธัััััั ะฒ:
- **ะะพะฝัะพะปั** - ั ัะฒะตัะฝะพะน ะฟะพะดัะฒะตัะบะพะน
- **ะะฐะทะฐ ะดะฐะฝะฝัั** - ะฒ ัะฐะฑะปะธัะต `user_roles` ั ะผะตัะบะพะน ะฒัะตะผะตะฝะธ
- **AuthService** - ัะตัะตะท ะฒัััะพะตะฝะฝัั ัะธััะตะผั ะปะพะณะธัะพะฒะฐะฝะธั NestJS

## ๐ฏ ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### ะกัะตะฝะฐัะธะน 1: ะะตัะฒะฐั ะฝะฐัััะพะนะบะฐ ะฟัะพะตะบัะฐ
```bash
# 1. ะะพะนะดะธัะต ะฒ ะฟัะธะปะพะถะตะฝะธะต ัะตัะตะท Google OAuth
# 2. ะะฐะทะฝะฐัััะต ัะตะฑั ะฐะดะผะธะฝะธัััะฐัะพัะพะผ
npm run admin:quick your-email@gmail.com

# 3. ะัะพะฒะตัััะต ัะตะทัะปััะฐั
npm run admin:list
```

### ะกัะตะฝะฐัะธะน 2: ะะฐััะพะฒะพะต ะฝะฐะทะฝะฐัะตะฝะธะต ัะพะปะตะน
```bash
# ะะฐะทะฝะฐัะธัั ะฝะตัะบะพะปัะบะธั ะฐะดะผะธะฝะธัััะฐัะพัะพะฒ
npm run admin:quick admin1@company.com
npm run admin:quick admin2@company.com
npm run admin:quick admin3@company.com

# ะัะพะฒะตัะธัั ัะตะทัะปััะฐั
npm run admin:list
```

### ะกัะตะฝะฐัะธะน 3: ะัะปะฐะดะบะฐ ัะธััะตะผั ัะพะปะตะน
```bash
# ะะฝัะตัะฐะบัะธะฒะฝะพะต ะธััะปะตะดะพะฒะฐะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปะตะน
npm run admin:make
# ะัะฑะตัะธัะต ะฟะพะปัะทะพะฒะฐัะตะปั ะธ ะธะทััะธัะต ะตะณะพ ัะพะปะธ

# ะััััะฐั ะฟัะพะฒะตัะบะฐ ะฐะดะผะธะฝะธัััะฐัะพัะพะฒ  
npm run admin:list
```

---

**๐ก ะกะพะฒะตั**: ะกะพััะฐะฝะธัะต ัััะปะบั ะฝะฐ ััะพั ัะฐะนะป - ะพะฝ ะฟะพะผะพะถะตั ะฒะฐะผ ะฑััััะพ ัะฟัะฐะฒะปััั ัะพะปัะผะธ ะฒ ัะธััะตะผะต!

## ๐ ะกะฒัะทะฐะฝะฝัะต ะดะพะบัะผะตะฝัั

- [ROLES_SYSTEM.md](../ROLES_SYSTEM.md) - ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั ะฟะพ ัะธััะตะผะต ัะพะปะตะน
- [README.md](../README.md) - ะัะฝะพะฒะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั ะฟัะพะตะบัะฐ
- [UNIVERSAL_AUTH_SYSTEM.md](../UNIVERSAL_AUTH_SYSTEM.md) - ะกะธััะตะผะฐ ะฐััะตะฝัะธัะธะบะฐัะธะธ 