<!DOCTYPE html>
<html>
<head>
    <title>Test Google Login Button</title>
</head>
<body>
    <h1>Test Google Login</h1>
    
    <button id="googleLogin" style="padding:10px 20px;background-color:#4285f4;color:white;border:none;border-radius:4px;cursor:pointer;font-size:16px">
        üîç –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google
    </button>
    
    <p id="status">–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –≤—ã—à–µ</p>
    
    <script>
        document.getElementById('googleLogin').addEventListener('click', async () => {
            try {
                // –ü–æ–ª—É—á–∞–µ–º Google Auth URL –∏–∑ backend
                const response = await fetch('http://localhost:4000/trpc/auth.getGoogleAuthUrl?batch=1&input=%7B%220%22%3A%7B%7D%7D');
                const data = await response.json();
                
                console.log('Response:', data);
                document.getElementById('status').textContent = 'Response: ' + JSON.stringify(data);
                
                if (data[0]?.result?.data) {
                    const authUrl = data[0].result.data;
                    document.getElementById('status').textContent = '–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞: ' + authUrl;
                    
                    // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ Google OAuth
                    setTimeout(() => {
                        window.location.href = authUrl;
                    }, 2000);
                }
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('status').textContent = '–û—à–∏–±–∫–∞: ' + error.message;
            }
        });
    </script>
</body>
</html> 